mapboxgl.accessToken="pk.eyJ1IjoidGhvbWFzMzMiLCJhIjoiY2pzYWFpcXNwMDAxbzN5cGZneGxia3U3ZCJ9.sigYT2nlLnC1siycJ3im-Q";var map=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[4.85,45.75],zoom:12});$.ajax({type:"GET",dataType:"JSON",url:"https://api.jcdecaux.com/vls/v1/stations?contract=Lyon&apiKey=16613431a6af103df05b4f8ff767c26f87858ec8",success:function(e){console.log(e),e.forEach(function(e){var a=document.createElement("div");a.id="marker",console.log(a.id);var s=new mapboxgl.Popup({offset:25}).setHTML(`\n                <strong>${e.name}</strong></br>\n                <p class="text-uppercase">VÃ©los disponibles</p></br>\n                <p>${e.available_bikes} / ${e.bike_stands}</p>\n                </br><span class="text-warning">${e.status}</span>\n                <form>\n                    <input type="submit" class="btn btn-sm btn-success value="RESERVER">\n                </form>`);a.addEventListener("click",function(){window.alert(e.properties.message)}),new mapboxgl.Marker(a).setLngLat(e.position).setPopup(s).addTo(map)})},error:function(e){console.error()}}),$.ajax({});