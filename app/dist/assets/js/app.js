mapboxgl.accessToken="pk.eyJ1IjoidGhvbWFzMzMiLCJhIjoiY2pzYWFpcXNwMDAxbzN5cGZneGxia3U3ZCJ9.sigYT2nlLnC1siycJ3im-Q";var map=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[4.85,45.75],zoom:13});$.ajax({type:"GET",dataType:"JSON",url:"https://api.jcdecaux.com/vls/v1/stations?contract=Lyon&apiKey=16613431a6af103df05b4f8ff767c26f87858ec8",success:function(e){console.log(e),e.forEach(function(e){var s=document.createElement("div");s.id="marker",console.log(s.id);var a=new mapboxgl.Popup({offset:25}).setHTML(`<strong>${e.name}</strong> </br><p class="text-uppercase">Places restantes</p>${e.available_bikes}</br><p class="text-uppercase">Vélos disponibles</p> ${e.available_bike_stands} </br><span class="text-warning">${e.status}</span> </br><p class="btn btn-success btn-sm text-uppercase">réserver</p>`);s.addEventListener("click",function(){window.alert(e.properties.message)}),new mapboxgl.Marker(s).setLngLat(e.position).setPopup(a).addTo(map)})},error:function(e){console.error()}});